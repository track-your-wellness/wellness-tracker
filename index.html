<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wellness Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Caveat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --baby-pink: #FFB6C1;
            --soft-pink: #FFC9D4;
            --pale-pink: #FFE5EC;
            --cream: #FFF8F0;
            --lavender: #E5D9F2;
            --mint: #D4F1F4;
            --peach: #FFD6BA;
            --text-dark: #4A4A4A;
            --text-light: #8B8B8B;
            --white: #FFFFFF;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--pale-pink) 0%, var(--lavender) 50%, var(--mint) 100%);
            min-height: 100vh;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Decorative Background Elements */
        .bg-decoration {
            position: fixed;
            border-radius: 50%;
            opacity: 0.3;
            z-index: 0;
            animation: float 20s ease-in-out infinite;
        }

        .bg-decoration:nth-child(1) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--baby-pink), transparent);
            top: -100px;
            right: -100px;
        }

        .bg-decoration:nth-child(2) {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--lavender), transparent);
            bottom: -150px;
            left: -150px;
            animation-delay: -5s;
        }

        .bg-decoration:nth-child(3) {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, var(--mint), transparent);
            top: 40%;
            right: 10%;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            33% {
                transform: translate(30px, -30px) scale(1.1);
            }
            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Login Screen */
        .login-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 40px;
            padding: 60px 50px;
            box-shadow: 0 20px 60px rgba(255, 182, 193, 0.4);
            max-width: 450px;
            width: 100%;
            text-align: center;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-card h1 {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            color: var(--baby-pink);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .login-card p {
            color: var(--text-light);
            margin-bottom: 40px;
            font-size: 1.1rem;
        }

        .input-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--soft-pink);
            border-radius: 20px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--white);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--baby-pink);
            box-shadow: 0 0 0 4px rgba(255, 182, 193, 0.1);
        }

        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 25px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-pink));
            color: white;
            box-shadow: 0 10px 30px rgba(255, 182, 193, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(255, 182, 193, 0.4);
        }

        /* Main App */
        .app-container {
            display: none;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 25px 35px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            font-family: 'Caveat', cursive;
            font-size: 2.5rem;
            color: var(--baby-pink);
            font-weight: 600;
        }

        .header-info {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1rem;
        }

        .logout-btn {
            background: none;
            border: 2px solid var(--baby-pink);
            color: var(--baby-pink);
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            margin-top: 8px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: var(--baby-pink);
            color: white;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 150px;
            padding: 18px 30px;
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid transparent;
            border-radius: 25px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-dark);
            box-shadow: 0 5px 20px rgba(255, 182, 193, 0.15);
        }

        .tab-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 182, 193, 0.25);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-pink));
            color: white;
            border-color: var(--baby-pink);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(255, 182, 193, 0.3);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--pale-pink);
        }

        .card-header h2 {
            font-size: 1.8rem;
            color: var(--baby-pink);
            font-weight: 600;
        }

        .date-selector {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .date-selector input {
            padding: 12px 20px;
            border: 2px solid var(--soft-pink);
            border-radius: 20px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            color: var(--text-dark);
            background: var(--white);
        }

        .date-selector input:focus {
            outline: none;
            border-color: var(--baby-pink);
        }

        /* Form Groups */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 1rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--soft-pink);
            border-radius: 20px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--white);
            color: var(--text-dark);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--baby-pink);
            box-shadow: 0 0 0 4px rgba(255, 182, 193, 0.1);
        }

        /* Toggle Switch (Compact) */
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 0;
        }

        .toggle-group > label:not(.switch) {
            flex: 1;
            margin: 0;
        }

        .toggle-group > label.switch {
            flex: 0 0 auto;
            margin: 0;
        }

        /* Smaller switch to look like (ã…‡  ) / (  ã…‡) */
        .switch {
            --switch-w: 44px;
            --switch-h: 24px;
            --knob: 18px;
            --pad: 3px;

            position: relative;
            display: inline-block;
            width: var(--switch-w);
            height: var(--switch-h);
            flex: 0 0 auto;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--pale-pink);
            transition: 0.25s;
            border-radius: 999px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: var(--knob);
            width: var(--knob);
            left: var(--pad);
            bottom: var(--pad);
            background-color: white;
            transition: 0.25s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-pink));
        }

        input:checked + .slider:before {
            transform: translateX(calc(var(--switch-w) - var(--knob) - (var(--pad) * 2)));
        }

        /* Scale Selector */
        .scale-selector {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .scale-btn {
            flex: 1;
            min-width: 50px;
            padding: 15px;
            border: 2px solid var(--soft-pink);
            background: white;
            border-radius: 15px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-dark);
        }

        .scale-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.2);
        }

        .scale-btn.active {
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-pink));
            color: white;
            border-color: var(--baby-pink);
        }

        /* Save Button */
        .save-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-pink));
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 182, 193, 0.3);
            margin-top: 10px;
        }

        .save-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 182, 193, 0.4);
        }

        /* History View */
        .history-grid {
            display: grid;
            gap: 20px;
        }

        .history-card {
            background: linear-gradient(135deg, rgba(255, 230, 236, 0.6), rgba(229, 217, 242, 0.6));
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .history-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(255, 182, 193, 0.2);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 182, 193, 0.3);
        }

        .history-date {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--baby-pink);
        }

        .delete-btn {
            background: none;
            border: 2px solid #ff6b6b;
            color: #ff6b6b;
            padding: 6px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #ff6b6b;
            color: white;
        }

        .history-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .history-item {
            background: white;
            padding: 12px 18px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(255, 182, 193, 0.1);
        }

        .history-label {
            font-weight: 600;
            color: var(--baby-pink);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .history-value {
            color: var(--text-dark);
            font-size: 1rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--baby-pink);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .login-card {
                padding: 40px 30px;
            }

            .login-card h1 {
                font-size: 2.5rem;
            }

            .header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .header-info {
                text-align: center;
            }

            .tab-nav {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 25px 20px;
            }

            .card-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .date-selector {
                width: 100%;
                justify-content: center;
            }

            .scale-selector {
                justify-content: center;
            }

            .history-content {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Background Decorations -->
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>

    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-card">
            <h1>âœ¨ Wellness Diary</h1>
            <p>ë‹¹ì‹ ë§Œì˜ ê±´ê°• ì—¬ì •ì„ ì‹œì‘í•˜ì„¸ìš”</p>
            
            <!-- Login Form -->
            <div id="loginForm">
                <div class="input-group">
                    <label>ì´ë©”ì¼</label>
                    <input type="email" id="loginEmail" placeholder="example@email.com" required>
                </div>
                <div class="input-group">
                    <label>ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>
                <button class="btn btn-primary" onclick="login()">ë¡œê·¸ì¸</button>
                <button class="btn btn-primary" onclick="showRegisterForm()" style="margin-top: 15px; background: linear-gradient(135deg, var(--lavender), var(--mint));">íšŒì›ê°€ì…</button>
            </div>

            <!-- Register Form -->
            <div id="registerForm" style="display: none;">
                <div class="input-group">
                    <label>ì´ë¦„</label>
                    <input type="text" id="registerName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>
                <div class="input-group">
                    <label>ì´ë©”ì¼</label>
                    <input type="email" id="registerEmail" placeholder="example@email.com" required>
                </div>
                <div class="input-group">
                    <label>ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="registerPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ìµœì†Œ 6ì)" required>
                </div>
                <div class="input-group">
                    <label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <input type="password" id="registerPasswordConfirm" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>
                <button class="btn btn-primary" onclick="register()">íšŒì›ê°€ì…</button>
                <button class="btn btn-primary" onclick="showLoginForm()" style="margin-top: 15px; background: none; border: 2px solid var(--baby-pink); color: var(--baby-pink);">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="appContainer" class="app-container">
        <div class="container">
            <div class="header">
                <h1>ğŸŒ¸ My Wellness</h1>
                <div class="header-info">
                    <div class="user-name" id="userName"></div>
                    <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" onclick="switchTab('daily')">ğŸ“ ì¼ì¼ ê¸°ë¡</button>
                <button class="tab-btn" onclick="switchTab('wellness')">ğŸ’– ì›°ë‹ˆìŠ¤ íŠ¸ë˜ì»¤</button>
                <button class="tab-btn" onclick="switchTab('history')">ğŸ“Š ê¸°ë¡ ë³´ê¸°</button>
                <button class="tab-btn" onclick="switchTab('settings')">âš™ï¸ ì„¤ì •</button>
            </div>

            <!-- Daily Log Tab -->
            <div id="dailyTab" class="tab-content active">
                <div class="card">
                    <div class="card-header">
                        <h2>ì˜¤ëŠ˜ì˜ ê¸°ë¡</h2>
                        <div class="date-selector">
                            <input type="date" id="dailyDate" onchange="loadDailyData()">
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ‹ï¸ ëª¸ë¬´ê²Œ (kg)</label>
                            <input type="number" id="weight" step="0.1" placeholder="ì˜ˆ: 65.5">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ğŸŒ… ì•„ì¹¨</label>
                        <textarea id="breakfast" placeholder="ë¨¹ì€ ìŒì‹ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ğŸŒ ì ì‹¬</label>
                        <textarea id="lunch" placeholder="ë¨¹ì€ ìŒì‹ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ğŸŒ™ ì €ë…</label>
                        <textarea id="dinner" placeholder="ë¨¹ì€ ìŒì‹ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ğŸª ê°„ì‹</label>
                        <textarea id="snacks" placeholder="ê°„ì‹ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="toggle-group">
                        <label>ğŸ’ª ìš´ë™ í–ˆë‚˜ìš”?</label>
                        <label class="switch">
                            <input type="checkbox" id="exercise">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <label>ğŸ· ìˆ  ë§ˆì…¨ë‚˜ìš”?</label>
                        <label class="switch">
                            <input type="checkbox" id="alcohol">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <button class="save-btn" onclick="saveDailyLog()">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
                </div>
            </div>

            <!-- Wellness Tracker Tab -->
            <div id="wellnessTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2>ì›°ë‹ˆìŠ¤ ì²´í¬</h2>
                        <div class="date-selector">
                            <input type="date" id="wellnessDate" onchange="loadWellnessData()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>âš¡ ì˜¤ëŠ˜ì˜ ì—ë„ˆì§€ ë ˆë²¨</label>
                        <div class="scale-selector" id="energyScale">
                            <button class="scale-btn" onclick="selectScale('energy', 1)">1</button>
                            <button class="scale-btn" onclick="selectScale('energy', 2)">2</button>
                            <button class="scale-btn" onclick="selectScale('energy', 3)">3</button>
                            <button class="scale-btn" onclick="selectScale('energy', 4)">4</button>
                            <button class="scale-btn" onclick="selectScale('energy', 5)">5</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ğŸ’­ ì—ë„ˆì§€ ë ˆë²¨ ì´ìœ </label>
                        <textarea id="energyReason" placeholder="ì˜ˆ: ìƒë¦¬í†µ, ë‘í†µ, í”¼ë¡œ, ê¸°ë¶„ ì¢‹ìŒ ë“±"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ğŸ˜´ ìˆ˜ë©´ ì ìˆ˜ (1-10)</label>
                        <input type="number" id="sleepScore" min="1" max="10" placeholder="1-10 ì‚¬ì´ ì ìˆ˜">
                    </div>

                    <div class="form-group">
                        <label>ğŸ½ï¸ ì‹ìš• ë ˆë²¨</label>
                        <div class="scale-selector" id="appetiteScale">
                            <button class="scale-btn" onclick="selectScale('appetite', 1)">1</button>
                            <button class="scale-btn" onclick="selectScale('appetite', 2)">2</button>
                            <button class="scale-btn" onclick="selectScale('appetite', 3)">3</button>
                            <button class="scale-btn" onclick="selectScale('appetite', 4)">4</button>
                            <button class="scale-btn" onclick="selectScale('appetite', 5)">5</button>
                        </div>
                    </div>

                    <div class="toggle-group">
                        <label>ğŸ’§ ë¬¼ ë§ì´ ë§ˆì…¨ë‚˜ìš”? (8ì” ì´ìƒ)</label>
                        <label class="switch">
                            <input type="checkbox" id="waterIntake">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <button class="save-btn" onclick="saveWellnessLog()">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
                </div>
            </div>

            <!-- History Tab -->
            <div id="historyTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2>ë‚´ ê¸°ë¡ íˆìŠ¤í† ë¦¬</h2>
                        <div class="date-selector">
                            <select id="filterType" onchange="loadHistory()">
                                <option value="all">ì „ì²´ ë³´ê¸°</option>
                                <option value="daily">ì¼ì¼ ê¸°ë¡ë§Œ</option>
                                <option value="wellness">ì›°ë‹ˆìŠ¤ë§Œ</option>
                            </select>
                        </div>
                    </div>
                    <div id="historyContent" class="history-grid"></div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settingsTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2>âš™ï¸ ì„¤ì •</h2>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 style="color: var(--baby-pink); font-size: 1.3rem; margin-bottom: 15px;">ğŸ“‹ ê³„ì • ì •ë³´</h3>
                        <div class="history-item" style="margin-bottom: 10px;">
                            <div class="history-label">ì´ë¦„</div>
                            <div class="history-value" id="accountName"></div>
                        </div>
                        <div class="history-item">
                            <div class="history-label">ì´ë©”ì¼</div>
                            <div class="history-value" id="accountEmail"></div>
                        </div>
                    </div>

                    <div style="margin-bottom: 40px;">
                        <h3 style="color: var(--baby-pink); font-size: 1.3rem; margin-bottom: 15px;">ğŸ“² ê¸°ê¸°ê°„ ë°ì´í„° ì´ë™</h3>
                        <p style="color: var(--text-light); margin-bottom: 18px; line-height: 1.6;">
                            ì´ ì•±ì€ ì„œë²„ ì—†ì´ ë™ì‘í•´ì„œ ê³„ì •/ê¸°ë¡ì´ <strong>ê¸°ê¸°(ë¸Œë¼ìš°ì €)ë³„</strong>ë¡œ ì €ì¥ë©ë‹ˆë‹¤.<br>
                            PCì—ì„œ ë§Œë“  ê³„ì •ì„ í°ì—ì„œë„ ì“°ë ¤ë©´ ì•„ë˜ì—ì„œ <strong>ë‚´ë³´ë‚´ê¸° â†’ í°ì—ì„œ ê°€ì ¸ì˜¤ê¸°</strong>ë¥¼ í•´ì£¼ì„¸ìš”.
                        </p>
                        <button class="btn btn-primary" onclick="exportDataToClipboard()" style="margin-top: 0; background: linear-gradient(135deg, var(--lavender), var(--mint));">
                            ğŸ“‹ ë‚´ ë°ì´í„° ë³µì‚¬(ë‚´ë³´ë‚´ê¸°)
                        </button>
                        <button class="btn" onclick="importDataFromPrompt()" style="margin-top: 12px; background: none; border: 2px solid var(--baby-pink); color: var(--baby-pink);">
                            ğŸ“¥ ë¶™ì—¬ë„£ê¸°(ê°€ì ¸ì˜¤ê¸°)
                        </button>
                    </div>

                    <div style="border-top: 2px solid var(--pale-pink); padding-top: 30px;">
                        <h3 style="color: #ff6b6b; font-size: 1.3rem; margin-bottom: 15px;">ğŸ—‘ï¸ ìœ„í—˜ êµ¬ì—­</h3>
                        <p style="color: var(--text-light); margin-bottom: 20px; line-height: 1.6;">
                            ê³„ì •ì„ ì‚­ì œí•˜ë©´ ëª¨ë“  ê¸°ë¡ì´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                        </p>
                        <button class="delete-btn" onclick="showDeleteAccountModal()" style="width: 100%; padding: 15px; font-size: 1rem;">
                            ê³„ì • ì‚­ì œí•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Account Modal -->
    <div id="deleteAccountModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 30px; padding: 40px; max-width: 500px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3); animation: slideUp 0.3s ease-out;">
            <h2 style="color: #ff6b6b; font-size: 1.8rem; margin-bottom: 20px; text-align: center;">âš ï¸ ê³„ì • ì‚­ì œ</h2>
            <p style="color: var(--text-dark); margin-bottom: 25px; line-height: 1.6; text-align: center;">
                ì •ë§ë¡œ ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                <strong style="color: #ff6b6b;">ëª¨ë“  ê¸°ë¡ì´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë˜ë©° ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong>
            </p>
            
            <div class="input-group">
                <label>ì´ë©”ì¼ í™•ì¸</label>
                <input type="email" id="deleteEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <div class="input-group">
                <label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                <input type="password" id="deletePassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>

            <div class="input-group">
                <label>
                    <input type="checkbox" id="deleteConfirm" style="width: auto; margin-right: 10px;">
                    ì •ë§ë¡œ ì‚­ì œí•˜ê² ìŠµë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                </label>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button onclick="hideDeleteAccountModal()" style="flex: 1; padding: 15px; background: var(--pale-pink); border: none; border-radius: 20px; font-family: 'Quicksand', sans-serif; font-weight: 600; cursor: pointer; font-size: 1rem; color: var(--text-dark);">
                    ì·¨ì†Œ
                </button>
                <button onclick="deleteAccount()" style="flex: 1; padding: 15px; background: #ff6b6b; border: none; border-radius: 20px; font-family: 'Quicksand', sans-serif; font-weight: 600; cursor: pointer; font-size: 1rem; color: white;">
                    ì˜êµ¬ ì‚­ì œ
                </button>
            </div>
        </div>
    </div>

    <script>
        // Storage keys
        const USERS_KEY = 'wellness_users';
        const CURRENT_USER_KEY = 'wellness_current_user';
        const LOGS_KEY = 'wellness_logs';

        let currentUser = null;
        let selectedEnergy = 0;
        let selectedAppetite = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            checkLogin();
            setTodayDate();
        });

        function setTodayDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('dailyDate').value = today;
            document.getElementById('wellnessDate').value = today;
        }

        // Form Navigation
        function showLoginForm() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            // Clear previous inputs
            document.getElementById('registerName').value = '';
            document.getElementById('registerEmail').value = '';
            document.getElementById('registerPassword').value = '';
            document.getElementById('registerPasswordConfirm').value = '';
        }

        // Authentication
        function checkLogin() {
            const userData = localStorage.getItem(CURRENT_USER_KEY);
            if (userData) {
                const user = JSON.parse(userData);
                currentUser = user;
                showApp();
            } else {
                showLogin();
            }
        }

        function register() {
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const passwordConfirm = document.getElementById('registerPasswordConfirm').value;

            // Validation
            if (!name || !email || !password || !passwordConfirm) {
                alert('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            if (password.length < 6) {
                alert('ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤!');
                return;
            }

            if (password !== passwordConfirm) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!');
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            // Check if email already exists
            const users = JSON.parse(localStorage.getItem(USERS_KEY) || '{}');
            if (users[email]) {
                alert('ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤!');
                return;
            }

            // Register user
            users[email] = {
                name: name,
                password: password,
                registeredAt: new Date().toISOString()
            };
            localStorage.setItem(USERS_KEY, JSON.stringify(users));

            alert('âœ¨ íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
            showLoginForm();
        }

        function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const users = JSON.parse(localStorage.getItem(USERS_KEY) || '{}');
            const userData = users[email];

            if (!userData) {
                alert('ê°€ì…ëœ ì´ë©”ì¼ì´ ì•„ë‹™ë‹ˆë‹¤!\n\nâš ï¸ ì´ ì•±ì€ ì„œë²„ ì—†ì´ ë™ì‘í•´ì„œ, ê³„ì •/ê¸°ë¡ì´ "ê¸°ê¸°(ë¸Œë¼ìš°ì €)ë³„"ë¡œ ì €ì¥ë©ë‹ˆë‹¤.\në‹¤ë¥¸ ê¸°ê¸°(í°)ì—ì„œ ì“°ë ¤ë©´ ì„¤ì • > ê¸°ê¸°ê°„ ë°ì´í„° ì´ë™ì—ì„œ "ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°"ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.');
                return;
            }

            if (userData.password === password) {
                currentUser = {
                    email: email,
                    name: userData.name
                };
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                showApp();
            } else {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤!');
            }
        }

        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem(CURRENT_USER_KEY);
                currentUser = null;
                showLogin();
            }
        }

        function showLogin() {
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('appContainer').style.display = 'none';
            showLoginForm();
        }

        function showApp() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            document.getElementById('userName').textContent = `${currentUser.name}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”! ğŸ’–`;
            loadDailyData();
            loadWellnessData();
            loadHistory();
            loadAccountInfo();
        }

        // Load account info
        function loadAccountInfo() {
            if (currentUser) {
                document.getElementById('accountName').textContent = currentUser.name;
                document.getElementById('accountEmail').textContent = currentUser.email;
            }
        }

        // Delete Account Modal
        function showDeleteAccountModal() {
            document.getElementById('deleteAccountModal').style.display = 'flex';
            document.getElementById('deleteEmail').value = '';
            document.getElementById('deletePassword').value = '';
            document.getElementById('deleteConfirm').checked = false;
        }

        function hideDeleteAccountModal() {
            document.getElementById('deleteAccountModal').style.display = 'none';
        }

        function deleteAccount() {
            const email = document.getElementById('deleteEmail').value.trim();
            const password = document.getElementById('deletePassword').value;
            const confirmChecked = document.getElementById('deleteConfirm').checked;

            // Validation
            if (!email || !password) {
                alert('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            if (!confirmChecked) {
                alert('ì‚­ì œë¥¼ í™•ì¸í•˜ë ¤ë©´ ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            if (email !== currentUser.email) {
                alert('ì´ë©”ì¼ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!');
                return;
            }

            // Verify password
            const users = JSON.parse(localStorage.getItem(USERS_KEY) || '{}');
            const userData = users[email];

            if (!userData || userData.password !== password) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤!');
                return;
            }

            // Final confirmation
            if (confirm('âš ï¸ ë§ˆì§€ë§‰ í™•ì¸: ì •ë§ë¡œ ê³„ì •ì„ ì˜êµ¬ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!')) {
                // Delete user from users list
                delete users[email];
                localStorage.setItem(USERS_KEY, JSON.stringify(users));

                // Delete user's logs
                const allLogs = JSON.parse(localStorage.getItem(LOGS_KEY) || '{}');
                delete allLogs[email];
                localStorage.setItem(LOGS_KEY, JSON.stringify(allLogs));

                // Clear current user
                localStorage.removeItem(CURRENT_USER_KEY);

                alert('ê³„ì •ì´ ì™„ì „íˆ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.');
                
                // Return to login
                currentUser = null;
                hideDeleteAccountModal();
                showLogin();
            }
        }

        // Cross-device transfer (Export/Import)
        function exportDataToClipboard() {
            const payload = {
                users: JSON.parse(localStorage.getItem(USERS_KEY) || '{}'),
                logs: JSON.parse(localStorage.getItem(LOGS_KEY) || '{}')
            };
            const json = JSON.stringify(payload);

            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(json)
                    .then(() => alert('âœ… ë‚´ ë°ì´í„°ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\ní°ì—ì„œ ì„¤ì • > ê¸°ê¸°ê°„ ë°ì´í„° ì´ë™ > ê°€ì ¸ì˜¤ê¸°ì—ì„œ ë¶™ì—¬ë„£ì–´ ì£¼ì„¸ìš”.'))
                    .catch(() => {
                        // Fallback
                        prompt('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ê¸¸ê²Œ ëˆŒëŸ¬ ì „ì²´ ì„ íƒ í›„ ë³µì‚¬í•˜ì„¸ìš”:', json);
                    });
            } else {
                // Older browsers fallback
                prompt('ì•„ë˜ ë‚´ìš©ì„ ê¸¸ê²Œ ëˆŒëŸ¬ ì „ì²´ ì„ íƒ í›„ ë³µì‚¬í•˜ì„¸ìš”:', json);
            }
        }

        function importDataFromPrompt() {
            const json = prompt('PCì—ì„œ ë³µì‚¬í•œ ë°ì´í„°ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:');
            if (!json) return;

            try {
                const payload = JSON.parse(json);

                if (payload.users && typeof payload.users === 'object') {
                    localStorage.setItem(USERS_KEY, JSON.stringify(payload.users));
                }
                if (payload.logs && typeof payload.logs === 'object') {
                    localStorage.setItem(LOGS_KEY, JSON.stringify(payload.logs));
                }

                alert('âœ… ê°€ì ¸ì˜¤ê¸°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nì´ì œ ë¡œê·¸ì¸ í™”ë©´ì—ì„œ ê°™ì€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•´ë³´ì„¸ìš”.');
                // Go back to login without confirmation
                localStorage.removeItem(CURRENT_USER_KEY);
                currentUser = null;
                showLogin();
            } catch (e) {
                alert('âŒ ë°ì´í„° í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë³µì‚¬/ë¶™ì—¬ë„£ê¸°ê°€ ì „ì²´ë¡œ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ì£¼ì„¸ìš”.');
            }
        }

                // Tab Switching
        function switchTab(tab) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tab + 'Tab').classList.add('active');

            if (tab === 'history') {
                loadHistory();
            }
        }

        // Scale Selection
        function selectScale(type, value) {
            const scale = document.getElementById(type + 'Scale');
            scale.querySelectorAll('.scale-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'energy') {
                selectedEnergy = value;
            } else if (type === 'appetite') {
                selectedAppetite = value;
            }
        }

        // Get user logs
        function getUserLogs() {
            const allLogs = JSON.parse(localStorage.getItem(LOGS_KEY) || '{}');
            return allLogs[currentUser.email] || {};
        }

        function saveUserLogs(logs) {
            const allLogs = JSON.parse(localStorage.getItem(LOGS_KEY) || '{}');
            allLogs[currentUser.email] = logs;
            localStorage.setItem(LOGS_KEY, JSON.stringify(allLogs));
        }

        // Save Daily Log
        function saveDailyLog() {
            const date = document.getElementById('dailyDate').value;
            const data = {
                type: 'daily',
                date: date,
                weight: document.getElementById('weight').value,
                breakfast: document.getElementById('breakfast').value,
                lunch: document.getElementById('lunch').value,
                dinner: document.getElementById('dinner').value,
                snacks: document.getElementById('snacks').value,
                exercise: document.getElementById('exercise').checked,
                alcohol: document.getElementById('alcohol').checked,
                timestamp: new Date().toISOString()
            };

            const logs = getUserLogs();
            logs[date + '_daily'] = data;
            saveUserLogs(logs);

            alert('âœ¨ ì¼ì¼ ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // Save Wellness Log
        function saveWellnessLog() {
            const date = document.getElementById('wellnessDate').value;
            
            if (selectedEnergy === 0) {
                alert('ì—ë„ˆì§€ ë ˆë²¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            if (selectedAppetite === 0) {
                alert('ì‹ìš• ë ˆë²¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            const data = {
                type: 'wellness',
                date: date,
                energyLevel: selectedEnergy,
                energyReason: document.getElementById('energyReason').value,
                sleepScore: document.getElementById('sleepScore').value,
                appetiteLevel: selectedAppetite,
                waterIntake: document.getElementById('waterIntake').checked,
                timestamp: new Date().toISOString()
            };

            const logs = getUserLogs();
            logs[date + '_wellness'] = data;
            saveUserLogs(logs);

            alert('âœ¨ ì›°ë‹ˆìŠ¤ ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // Load Daily Data
        function loadDailyData() {
            const date = document.getElementById('dailyDate').value;
            const logs = getUserLogs();
            const data = logs[date + '_daily'];

            if (data) {
                document.getElementById('weight').value = data.weight || '';
                document.getElementById('breakfast').value = data.breakfast || '';
                document.getElementById('lunch').value = data.lunch || '';
                document.getElementById('dinner').value = data.dinner || '';
                document.getElementById('snacks').value = data.snacks || '';
                document.getElementById('exercise').checked = data.exercise || false;
                document.getElementById('alcohol').checked = data.alcohol || false;
            } else {
                // Clear form
                document.getElementById('weight').value = '';
                document.getElementById('breakfast').value = '';
                document.getElementById('lunch').value = '';
                document.getElementById('dinner').value = '';
                document.getElementById('snacks').value = '';
                document.getElementById('exercise').checked = false;
                document.getElementById('alcohol').checked = false;
            }
        }

        // Load Wellness Data
        function loadWellnessData() {
            const date = document.getElementById('wellnessDate').value;
            const logs = getUserLogs();
            const data = logs[date + '_wellness'];

            // Reset scales
            document.querySelectorAll('.scale-btn').forEach(btn => btn.classList.remove('active'));
            selectedEnergy = 0;
            selectedAppetite = 0;

            if (data) {
                // Set energy level
                selectedEnergy = data.energyLevel;
                const energyBtns = document.getElementById('energyScale').querySelectorAll('.scale-btn');
                energyBtns[data.energyLevel - 1].classList.add('active');

                // Set appetite level
                selectedAppetite = data.appetiteLevel;
                const appetiteBtns = document.getElementById('appetiteScale').querySelectorAll('.scale-btn');
                appetiteBtns[data.appetiteLevel - 1].classList.add('active');

                document.getElementById('energyReason').value = data.energyReason || '';
                document.getElementById('sleepScore').value = data.sleepScore || '';
                document.getElementById('waterIntake').checked = data.waterIntake || false;
            } else {
                // Clear form
                document.getElementById('energyReason').value = '';
                document.getElementById('sleepScore').value = '';
                document.getElementById('waterIntake').checked = false;
            }
        }

        // Load History
        function loadHistory() {
            const logs = getUserLogs();
            const filterType = document.getElementById('filterType').value;
            const historyContent = document.getElementById('historyContent');

            // Convert logs object to array and sort by date
            const logsArray = Object.entries(logs)
                .filter(([key, value]) => {
                    if (filterType === 'all') return true;
                    return value.type === filterType;
                })
                .sort((a, b) => new Date(b[1].date) - new Date(a[1].date));

            if (logsArray.length === 0) {
                historyContent.innerHTML = `
                    <div class="empty-state">
                        <h3>ğŸ“ ì•„ì§ ê¸°ë¡ì´ ì—†ì–´ìš”</h3>
                        <p>ì²« ë²ˆì§¸ ê¸°ë¡ì„ ì‹œì‘í•´ë³´ì„¸ìš”!</p>
                    </div>
                `;
                return;
            }

            historyContent.innerHTML = logsArray.map(([key, log]) => {
                const dateObj = new Date(log.date);
                const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
                const dayName = dayNames[dateObj.getDay()];
                
                if (log.type === 'daily') {
                    return `
                        <div class="history-card">
                            <div class="history-header">
                                <div class="history-date">${log.date} (${dayName})</div>
                                <button class="delete-btn" onclick="deleteLog('${key}')">ì‚­ì œ</button>
                            </div>
                            <div class="history-content">
                                ${log.weight ? `<div class="history-item"><div class="history-label">ëª¸ë¬´ê²Œ</div><div class="history-value">${log.weight} kg</div></div>` : ''}
                                ${log.breakfast ? `<div class="history-item"><div class="history-label">ì•„ì¹¨</div><div class="history-value">${log.breakfast}</div></div>` : ''}
                                ${log.lunch ? `<div class="history-item"><div class="history-label">ì ì‹¬</div><div class="history-value">${log.lunch}</div></div>` : ''}
                                ${log.dinner ? `<div class="history-item"><div class="history-label">ì €ë…</div><div class="history-value">${log.dinner}</div></div>` : ''}
                                ${log.snacks ? `<div class="history-item"><div class="history-label">ê°„ì‹</div><div class="history-value">${log.snacks}</div></div>` : ''}
                                <div class="history-item"><div class="history-label">ìš´ë™</div><div class="history-value">${log.exercise ? 'âœ… í–ˆìŒ' : 'âŒ ì•ˆí•¨'}</div></div>
                                <div class="history-item"><div class="history-label">ìŒì£¼</div><div class="history-value">${log.alcohol ? 'ğŸ· ë§ˆì‹¬' : 'âœ… ì•ˆë§ˆì‹¬'}</div></div>
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="history-card">
                            <div class="history-header">
                                <div class="history-date">ğŸ’– ${log.date} (${dayName})</div>
                                <button class="delete-btn" onclick="deleteLog('${key}')">ì‚­ì œ</button>
                            </div>
                            <div class="history-content">
                                <div class="history-item"><div class="history-label">ì—ë„ˆì§€ ë ˆë²¨</div><div class="history-value">âš¡ ${log.energyLevel}/5</div></div>
                                ${log.energyReason ? `<div class="history-item"><div class="history-label">ì—ë„ˆì§€ ì´ìœ </div><div class="history-value">${log.energyReason}</div></div>` : ''}
                                ${log.sleepScore ? `<div class="history-item"><div class="history-label">ìˆ˜ë©´ ì ìˆ˜</div><div class="history-value">ğŸ˜´ ${log.sleepScore}/10</div></div>` : ''}
                                <div class="history-item"><div class="history-label">ì‹ìš• ë ˆë²¨</div><div class="history-value">ğŸ½ï¸ ${log.appetiteLevel}/5</div></div>
                                <div class="history-item"><div class="history-label">ìˆ˜ë¶„ ì„­ì·¨</div><div class="history-value">${log.waterIntake ? 'ğŸ’§ ì¶©ë¶„íˆ ë§ˆì‹¬' : 'âš ï¸ ë¶€ì¡±í•¨'}</div></div>
                            </div>
                        </div>
                    `;
                }
            }).join('');
        }

        // Delete Log
        function deleteLog(key) {
            if (confirm('ì •ë§ ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const logs = getUserLogs();
                delete logs[key];
                saveUserLogs(logs);
                loadHistory();
                alert('ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }
    </script>
</body>
</html>